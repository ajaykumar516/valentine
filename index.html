<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Patient Case ‚Äì Valentine Edition ‚ù§Ô∏è</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #fbc2eb, #f9d423);
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    .card {
      width: 90%;
      max-width: 420px;
      background: #fff;
      border-radius: 24px;
      padding: 28px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      display: none;
      animation: fadeIn 0.4s ease;
    }
    .card.active { display: block; }
    h1 { margin-top: 0; }
    .tag {
      display: inline-block;
      background: #ffe6eb;
      color: #d6336c;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      margin-bottom: 12px;
    }
    button {
      width: 100%;
      padding: 14px;
      margin-top: 20px;
      border: none;
      border-radius: 30px;
      background: #e63946;
      color: #fff;
      font-size: 16px;
      cursor: pointer;
    }
    .row { display: flex; gap: 10px; }
    .secondary {
      background: #f1f1f1;
      color: #333;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- PAGE 1 -->
  <div class="card active">
    <h1>Patient Case File</h1>
    <span class="tag">Confidential</span>
    <p><strong>Patient:</strong> One (1) very lucky boyfriend</p>
    <p><strong>Attending Physician:</strong> Shweta Sarthy ü©∫</p>
    <button onclick="goNext()">Open Case</button>
  </div>

  <!-- PAGE 2 -->
  <div class="card">
    <h1>Chief Complaint</h1>
    <span class="tag">Ongoing</span>
    <p>Persistent warmth in the chest area when thinking about one incredibly intelligent, kind, and beautiful future doctor.</p>
    <button onclick="goNext()">Review Symptoms</button>
  </div>

    <!-- PAGE 3 -->
  <div class="card">
    <h1>Symptoms</h1>
    <span class="tag">Entered by Physician</span>
    <p><em>Clinical observations recorded during consultation:</em></p>

    <textarea id="doctorNotes"
      placeholder="Enter clinical observations here..."
      style="width:100%;height:120px;border-radius:12px;padding:12px;border:1px solid #ddd;resize:none;"></textarea>

    <button onclick="saveSymptoms()">Save Clinical Notes ü©∫</button>
  </div>

  <!-- PAGE 4 -->
  <div class="card">
    <h1>Assessment</h1>
    <span class="tag">Stable</span>
    <p>Condition appears chronic and irreversible.</p>
    <p>Patient reports feeling safe, supported, and genuinely happy in your presence.</p>
    <button onclick="goNext()">Final Recommendation</button>
  </div>

  <!-- PAGE 5 -->
  <div class="card">
    <h1>Final Recommendation</h1>
    <span class="tag">High Priority</span>
    <p>Proceed with Valentine‚Äôs Day together.</p>
    <p>Laugh a lot.</p>
    <p>Eat something good with patient.</p>
    <p><strong>Will you be Patient‚Äôs Valentine?</strong></p>
    <div class="row">
      <button onclick="accept()">Accept ‚ù§Ô∏è</button>
      <button class="secondary" onclick="reject()">Reject ‚ùå</button>
    </div>
  </div>

  <!-- PAGE 6 -->
  <div class="card" id="reject">
    <h1>Error 404: Option Not Found</h1>
    <span class="tag">Action Forbidden</span>
    <p>Rejection is not supported for this patient.</p>
    <p>Please reconsider and continue treatment with kindness ‚ù§Ô∏è</p>
    <button onclick="goBack()">Reconsider ‚ù§Ô∏è</button>
  </div>

  <!-- PAGE 7 -->
    <!-- PAGE 7 -->
  <div class="card" id="accept">
    <h1>Case Closed</h1>
    <span class="tag">Approved</span>
    <p>Recommendation accepted.</p>
    <p>Prognosis: <strong>Extremely good.</strong></p>
    <p>Thank you, Doctor ‚ù§Ô∏è</p>
    <button onclick="showPrescription()">View Treatment Plan</button>
  </div>

  <!-- PAGE 8 : PRESCRIPTION -->
  <div class="card" id="prescription">
    <h1>üíä Love Prescription</h1>
    <span class="tag">Valid for Lifetime</span>
    <p><strong>Patient Name:</strong> Us üíë</p>
    <p><strong>Prescribed By:</strong> Dr. Shweta Sarthy ü©∫</p>
    <hr />
    <p>‚úî 2 hugs daily (minimum)</p>
    <p>‚úî 1 long conversation before sleep</p>
    <p>‚úî Unlimited smiles & teasing</p>
    <p>‚úî Food dates as required üçïüç®</p>
    <p>‚úî Hand-holding during walks</p>
    <hr />
    <p><strong>Side Effects:</strong> Happiness, comfort, addiction üòå</p>
    <p><strong>Refill:</strong> Automatically renewed forever ‚ôæÔ∏è</p>
    <button onclick="restart()">Restart Case üîÅ</button>
  </div>

  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyByua7GE9rFgaVB_rt5AbUMbMvVLLOV-pc",
    authDomain: "valentine-30518.firebaseapp.com",
    projectId: "valentine-30518",
    storageBucket: "valentine-30518.firebasestorage.app",
    messagingSenderId: "984668185645",
    appId: "1:984668185645:web:0e8ca0cdfcba9c2e7084a4"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const cards = document.querySelectorAll('.card:not(#reject):not(#accept):not(#prescription)');
  let index = 0;

  window.goNext = function () {
    if (index < cards.length - 1) {
      cards[index].classList.remove('active');
      index++;
      cards[index].classList.add('active');
    }
  };

  window.reject = function () {
    cards[index].classList.remove('active');
    document.getElementById('reject').classList.add('active');
  };

  window.accept = function () {
    cards[index].classList.remove('active');
    document.getElementById('accept').classList.add('active');
  };

  window.goBack = function () {
    document.getElementById('reject').classList.remove('active');
    cards[index].classList.add('active');
  };

  window.showPrescription = function () {
    document.getElementById('accept').classList.remove('active');
    document.getElementById('prescription').classList.add('active');
  };

  window.restart = function () {
    document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
    index = 0;
    cards[index].classList.add('active');
  };

  window.saveSymptoms = async function () {
    const notes = document.getElementById('doctorNotes').value.trim();

    if (!notes) {
      alert('Please enter clinical notes ü©∫');
      return;
    }

    try {
      await addDoc(collection(db, 'symptoms'), {
        notes: notes,
        createdAt: serverTimestamp(),
        source: 'doctor-entry'
      });

      alert('Clinical notes securely saved ‚ù§Ô∏è');
      goNext();
    } catch (e) {
      console.error(e);
      alert('Error saving notes üò¢');
    }
  };
</script>

</body>
</html>
